{% extends "twitter/base.html" %}
{% load i18n %}

{% block centraal_content %}
    <div class="container">
        <div class="row">
            <div class="col-md-2">
                {% include 'twitter/sidebar.html' %}
            </div>
            <div class="col-md-10">
                <h1>{% trans 'Dashboard to be placed here...' %}</h1>
                <hr/>
                <ul class="nav nav-tabs" id="myTab">
                    <li class="active"><a href="#scheduled-orders" data-toggle="tab">{% trans 'Scheduled Orders' %}</a>
                    </li>
                    <li><a href="#orders" data-toggle="tab">{% trans 'Orders' %}</a></li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane active" id="scheduled-orders">
                        {% if scheduled_orders %}
                            <h3>{% trans 'Scheduled orders' %}</h3>
                            <table class="table table-striped table-bordered">

                                <tr>
                                    <td>{% trans 'Label' %}</td>
                                    <td>{% trans 'Status' %}</td>
                                    <td>{% trans 'Last run' %}</td>
                                    <td>{% trans 'Created' %}</td>
                                    <td>{% trans 'Actions' %}</td>
                                </tr>

                                {% for order in scheduled_orders %}
                                    <tr>
                                        <td>{{ order.label }}</td>
                                        <td>{{ order.get_status_display }}</td>
                                        <td>{{ order.last_run|default_if_none:"Never" }}</td>
                                        <td>{{ order.created_at|timesince }} {% trans 'ago' %}</td>
                                        <td><button class="btn btn-danger">{% trans 'Delete' %}</button></td>
                                    </tr>
                                {% endfor %}

                            </table>
                        {% else %}
                            <h3>{% trans 'No orders found, create your first here' %}</h3>
                        {% endif %}
                    </div>
                    <div class="tab-pane" id="orders">
                        {% if orders %}
                            <h3>{% trans 'All orders' %}</h3>
                            <table class="table table-striped table-bordered">

                                <tr>
                                    <td>{% trans 'Order' %}</td>
                                    <td>{% trans 'Status' %}</td>
                                    <td>{% trans 'Created' %}</td>
                                </tr>

                                {% for order in orders %}
                                    <tr>
                                        <td>{{ order }}</td>
                                        <td>{{ order.get_status_display }}</td>
                                        <td>{{ order.created_at|timesince }} {% trans 'ago' %}</td>
                                    </tr>
                                {% endfor %}

                            </table>
                        {% else %}
                            <h3>{% trans 'No orders found, create your first here' %}</h3>
                        {% endif %}

                    </div>
                </div>

            </div>
        </div>
    </div>
{% endblock %}